### **Final v0.1.8 Sprint Backlog**

#### **Ticket 1: Architecture - Persistent Oracle Cache**

-   **Context:** `R/cs-oracle-truth.R` currently uses `new.env()` which is not shared across parallel workers, causing redundant computation.

-   **Requirement:** Implement a lazy file-based cache mechanism.

-   **Acceptance Criteria:**

    -   Cache directory: Use `tools::R_user_dir("CausalStress", "cache")` or a local `.cache` folder if preferred.

    -   Naming convention: `truth_<dgp_id>_<version>.qs` (using `qs` package for speed).

    -   Logic: Check disk -\> if exists, read -\> else compute, write, return.

    -   **Constraint:** Must still respect `ORACLE_SEED = 99999L`.

#### **Ticket 2: UX - CI Intent Clarity ("Silent Bootstrap" Fix)**

-   **Context:** `cs_run_single(bootstrap=FALSE)` currently passes a raw config to estimators, allowing them to default to `ci_method="bootstrap"`.

-   **Requirement:** Explicitly force "none" when bootstrap is false.

-   **Acceptance Criteria:**

    -   In `R/cs-runner.R` (inside `cs_run_single`):

    -   IF `bootstrap == FALSE` AND `config$ci_method` is NULL/Missing...

    -   THEN inject `config$ci_method <- "none"`.

    -   Verify this prevents `est_gengc` from triggering its default bootstrap loop.

#### **Ticket 3: Governance - Registry "Fail Closed"**

-   **Context:** `R/cs-dgp-registry.R` returns empty tags if the YAML sidecar is missing, causing the Gatekeeper to pass unsafe estimators.

-   **Requirement:** Abort execution if metadata cannot be loaded.

-   **Acceptance Criteria:**

    -   In `cs_dgp_registry()` logic (or wherever `tags` are mapped):

    -   IF `system.file(...)` is empty AND `inst/dgp_meta/...` does not exist...

    -   THEN `rlang::abort("Critical: YAML sidecar not found for DGP ...")`.

    -   Empty tags `character(0)` are allowed ONLY if the file exists but has no tags.

#### **Ticket 4: Audit - Estimator Provenance**

-   **Context:** We strictly enforce the registry version but lose the version the estimator package actually reports.

-   **Requirement:** Capture the self-reported version.

-   **Acceptance Criteria:**

    -   In `R/cs-runner.R`:

    -   Extract `res$meta$version` from the estimator output *before* it is discarded.

    -   Add it to the final result metadata list as `estimator_reported_version`.

#### **Ticket 5: Documentation - Roadmap & News**

-   **Context:** Documentation is out of sync with the v0.1.8 "Governance Patch" reality.

-   **Requirement:** Update docs to reflect deferred batching.

-   **Acceptance Criteria:**

    -   `inst/design/CAUSAL_STRESS_ROADMAP.md`: Move "Batching" to Phase 4 (v0.1.9).

    -   `NEWS.md`: Add entries for "Parallel Gating", "Fingerprint Schema v2", and the fixes above.